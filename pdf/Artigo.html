<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>Gr&aacute;ficos em Lua</title>
        <style>
/* From extension vscode.github */
.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only] {
    display: none;
}

/* From extension vscode.markdown-math */
@font-face{font-family:KaTeX_AMS;src:url(fonts/KaTeX_AMS-Regular.woff2) format("woff2"),url(fonts/KaTeX_AMS-Regular.woff) format("woff"),url(fonts/KaTeX_AMS-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url(fonts/KaTeX_Caligraphic-Bold.woff2) format("woff2"),url(fonts/KaTeX_Caligraphic-Bold.woff) format("woff"),url(fonts/KaTeX_Caligraphic-Bold.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url(fonts/KaTeX_Caligraphic-Regular.woff2) format("woff2"),url(fonts/KaTeX_Caligraphic-Regular.woff) format("woff"),url(fonts/KaTeX_Caligraphic-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url(fonts/KaTeX_Fraktur-Bold.woff2) format("woff2"),url(fonts/KaTeX_Fraktur-Bold.woff) format("woff"),url(fonts/KaTeX_Fraktur-Bold.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url(fonts/KaTeX_Fraktur-Regular.woff2) format("woff2"),url(fonts/KaTeX_Fraktur-Regular.woff) format("woff"),url(fonts/KaTeX_Fraktur-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Main;src:url(fonts/KaTeX_Main-Bold.woff2) format("woff2"),url(fonts/KaTeX_Main-Bold.woff) format("woff"),url(fonts/KaTeX_Main-Bold.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Main;src:url(fonts/KaTeX_Main-BoldItalic.woff2) format("woff2"),url(fonts/KaTeX_Main-BoldItalic.woff) format("woff"),url(fonts/KaTeX_Main-BoldItalic.ttf) format("truetype");font-weight:700;font-style:italic}@font-face{font-family:KaTeX_Main;src:url(fonts/KaTeX_Main-Italic.woff2) format("woff2"),url(fonts/KaTeX_Main-Italic.woff) format("woff"),url(fonts/KaTeX_Main-Italic.ttf) format("truetype");font-weight:400;font-style:italic}@font-face{font-family:KaTeX_Main;src:url(fonts/KaTeX_Main-Regular.woff2) format("woff2"),url(fonts/KaTeX_Main-Regular.woff) format("woff"),url(fonts/KaTeX_Main-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Math;src:url(fonts/KaTeX_Math-BoldItalic.woff2) format("woff2"),url(fonts/KaTeX_Math-BoldItalic.woff) format("woff"),url(fonts/KaTeX_Math-BoldItalic.ttf) format("truetype");font-weight:700;font-style:italic}@font-face{font-family:KaTeX_Math;src:url(fonts/KaTeX_Math-Italic.woff2) format("woff2"),url(fonts/KaTeX_Math-Italic.woff) format("woff"),url(fonts/KaTeX_Math-Italic.ttf) format("truetype");font-weight:400;font-style:italic}@font-face{font-family:"KaTeX_SansSerif";src:url(fonts/KaTeX_SansSerif-Bold.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Bold.woff) format("woff"),url(fonts/KaTeX_SansSerif-Bold.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:"KaTeX_SansSerif";src:url(fonts/KaTeX_SansSerif-Italic.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Italic.woff) format("woff"),url(fonts/KaTeX_SansSerif-Italic.ttf) format("truetype");font-weight:400;font-style:italic}@font-face{font-family:"KaTeX_SansSerif";src:url(fonts/KaTeX_SansSerif-Regular.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Regular.woff) format("woff"),url(fonts/KaTeX_SansSerif-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Script;src:url(fonts/KaTeX_Script-Regular.woff2) format("woff2"),url(fonts/KaTeX_Script-Regular.woff) format("woff"),url(fonts/KaTeX_Script-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size1;src:url(fonts/KaTeX_Size1-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size1-Regular.woff) format("woff"),url(fonts/KaTeX_Size1-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size2;src:url(fonts/KaTeX_Size2-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size2-Regular.woff) format("woff"),url(fonts/KaTeX_Size2-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size3;src:url(fonts/KaTeX_Size3-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size3-Regular.woff) format("woff"),url(fonts/KaTeX_Size3-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size4;src:url(fonts/KaTeX_Size4-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size4-Regular.woff) format("woff"),url(fonts/KaTeX_Size4-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Typewriter;src:url(fonts/KaTeX_Typewriter-Regular.woff2) format("woff2"),url(fonts/KaTeX_Typewriter-Regular.woff) format("woff"),url(fonts/KaTeX_Typewriter-Regular.ttf) format("truetype");font-weight:400;font-style:normal}.katex{font:normal 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;text-indent:0;text-rendering:auto;border-color:currentColor}.katex *{-ms-high-contrast-adjust:none!important}.katex .katex-version:after{content:"0.13.0"}.katex .katex-mathml{position:absolute;clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}.katex .katex-html>.newline{display:block}.katex .base{position:relative;white-space:nowrap;width:-webkit-min-content;width:-moz-min-content;width:min-content}.katex .base,.katex .strut{display:inline-block}.katex .textbf{font-weight:700}.katex .textit{font-style:italic}.katex .textrm{font-family:KaTeX_Main}.katex .textsf{font-family:KaTeX_SansSerif}.katex .texttt{font-family:KaTeX_Typewriter}.katex .mathnormal{font-family:KaTeX_Math;font-style:italic}.katex .mathit{font-family:KaTeX_Main;font-style:italic}.katex .mathrm{font-style:normal}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .boldsymbol{font-family:KaTeX_Math;font-weight:700;font-style:italic}.katex .amsrm,.katex .mathbb,.katex .textbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak,.katex .textfrak{font-family:KaTeX_Fraktur}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr,.katex .textscr{font-family:KaTeX_Script}.katex .mathsf,.katex .textsf{font-family:KaTeX_SansSerif}.katex .mathboldsf,.katex .textboldsf{font-family:KaTeX_SansSerif;font-weight:700}.katex .mathitsf,.katex .textitsf{font-family:KaTeX_SansSerif;font-style:italic}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .vlist-t{display:inline-table;table-layout:fixed;border-collapse:collapse}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;vertical-align:bottom;position:relative}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;vertical-align:bottom;font-size:1px;width:2px;min-width:2px}.katex .vbox{display:inline-flex;flex-direction:column;align-items:baseline}.katex .hbox{width:100%}.katex .hbox,.katex .thinbox{display:inline-flex;flex-direction:row}.katex .thinbox{width:0;max-width:0}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{display:inline-block;width:100%;border-bottom-style:solid}.katex .hdashline,.katex .hline,.katex .mfrac .frac-line,.katex .overline .overline-line,.katex .rule,.katex .underline .underline-line{min-height:1px}.katex .mspace{display:inline-block}.katex .clap,.katex .llap,.katex .rlap{width:0;position:relative}.katex .clap>.inner,.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .clap>.fix,.katex .llap>.fix,.katex .rlap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .clap>.inner,.katex .rlap>.inner{left:0}.katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.katex .rule{display:inline-block;border:0 solid;position:relative}.katex .hline,.katex .overline .overline-line,.katex .underline .underline-line{display:inline-block;width:100%;border-bottom-style:solid}.katex .hdashline{display:inline-block;width:100%;border-bottom-style:dashed}.katex .sqrt>.root{margin-left:.27777778em;margin-right:-.55555556em}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.2em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:3.456em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.148em}.katex .fontsize-ensurer.reset-size1.size11,.katex .sizing.reset-size1.size11{font-size:4.976em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.83333333em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.16666667em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.5em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.66666667em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.4em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.88em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.45666667em}.katex .fontsize-ensurer.reset-size2.size11,.katex .sizing.reset-size2.size11{font-size:4.14666667em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.71428571em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.85714286em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.14285714em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.28571429em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.42857143em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.71428571em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.05714286em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.46857143em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:2.96285714em}.katex .fontsize-ensurer.reset-size3.size11,.katex .sizing.reset-size3.size11{font-size:3.55428571em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.75em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.875em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.125em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.25em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.5em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.8em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.16em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.5925em}.katex .fontsize-ensurer.reset-size4.size11,.katex .sizing.reset-size4.size11{font-size:3.11em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.55555556em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.66666667em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.77777778em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.88888889em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.11111111em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.6em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:1.92em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.30444444em}.katex .fontsize-ensurer.reset-size5.size11,.katex .sizing.reset-size5.size11{font-size:2.76444444em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.6em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.7em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.8em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.9em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.728em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.074em}.katex .fontsize-ensurer.reset-size6.size11,.katex .sizing.reset-size6.size11{font-size:2.488em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.41666667em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.5em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.58333333em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.66666667em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.75em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.83333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.2em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.44em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.72833333em}.katex .fontsize-ensurer.reset-size7.size11,.katex .sizing.reset-size7.size11{font-size:2.07333333em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.34722222em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.41666667em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.48611111em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.55555556em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.625em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.69444444em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.83333333em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.2em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.44027778em}.katex .fontsize-ensurer.reset-size8.size11,.katex .sizing.reset-size8.size11{font-size:1.72777778em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.28935185em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.34722222em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.40509259em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.46296296em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.52083333em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.5787037em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.69444444em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.83333333em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.20023148em}.katex .fontsize-ensurer.reset-size9.size11,.katex .sizing.reset-size9.size11{font-size:1.43981481em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.24108004em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.28929605em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.33751205em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.38572806em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.43394407em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.48216008em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.57859209em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.69431051em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.83317261em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .fontsize-ensurer.reset-size10.size11,.katex .sizing.reset-size10.size11{font-size:1.19961427em}.katex .fontsize-ensurer.reset-size11.size1,.katex .sizing.reset-size11.size1{font-size:.20096463em}.katex .fontsize-ensurer.reset-size11.size2,.katex .sizing.reset-size11.size2{font-size:.24115756em}.katex .fontsize-ensurer.reset-size11.size3,.katex .sizing.reset-size11.size3{font-size:.28135048em}.katex .fontsize-ensurer.reset-size11.size4,.katex .sizing.reset-size11.size4{font-size:.32154341em}.katex .fontsize-ensurer.reset-size11.size5,.katex .sizing.reset-size11.size5{font-size:.36173633em}.katex .fontsize-ensurer.reset-size11.size6,.katex .sizing.reset-size11.size6{font-size:.40192926em}.katex .fontsize-ensurer.reset-size11.size7,.katex .sizing.reset-size11.size7{font-size:.48231511em}.katex .fontsize-ensurer.reset-size11.size8,.katex .sizing.reset-size11.size8{font-size:.57877814em}.katex .fontsize-ensurer.reset-size11.size9,.katex .sizing.reset-size11.size9{font-size:.69453376em}.katex .fontsize-ensurer.reset-size11.size10,.katex .sizing.reset-size11.size10{font-size:.83360129em}.katex .fontsize-ensurer.reset-size11.size11,.katex .sizing.reset-size11.size11{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:.12em}.katex .delimcenter,.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .accent>.vlist-t,.katex .op-limits>.vlist-t{text-align:center}.katex .accent .accent-body{position:relative}.katex .accent .accent-body:not(.accent-full){width:0}.katex .overlay{display:block}.katex .mtable .vertical-separator{display:inline-block;min-width:1px}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist-t{text-align:center}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex svg{display:block;position:absolute;width:100%;height:inherit;fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1}.katex svg path{stroke:none}.katex img{border-style:none;min-width:0;min-height:0;max-width:none;max-height:none}.katex .stretchy{width:100%;display:block;position:relative;overflow:hidden}.katex .stretchy:after,.katex .stretchy:before{content:""}.katex .hide-tail{width:100%;position:relative;overflow:hidden}.katex .halfarrow-left{position:absolute;left:0;width:50.2%;overflow:hidden}.katex .halfarrow-right{position:absolute;right:0;width:50.2%;overflow:hidden}.katex .brace-left{position:absolute;left:0;width:25.1%;overflow:hidden}.katex .brace-center{position:absolute;left:25%;width:50%;overflow:hidden}.katex .brace-right{position:absolute;right:0;width:25.1%;overflow:hidden}.katex .x-arrow-pad{padding:0 .5em}.katex .cd-arrow-pad{padding:0 .55556em 0 .27778em}.katex .mover,.katex .munder,.katex .x-arrow{text-align:center}.katex .boxpad{padding:0 .3em}.katex .fbox,.katex .fcolorbox{box-sizing:border-box;border:.04em solid}.katex .cancel-pad{padding:0 .2em}.katex .cancel-lap{margin-left:-.2em;margin-right:-.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}.katex .angl{box-sizing:border-content;border-top:.049em solid;border-right:.049em solid;margin-right:.03889em}.katex .anglpad{padding:0 .03889em}.katex .eqn-num:before{counter-increment:katexEqnNo;content:"(" counter(katexEqnNo) ")"}.katex .mml-eqn-num:before{counter-increment:mmlEqnNo;content:"(" counter(mmlEqnNo) ")"}.katex .mtr-glue{width:50%}.katex .cd-vert-arrow{display:inline-block;position:relative}.katex .cd-label-left{display:inline-block;position:absolute;right:calc(50% + .3em);text-align:left}.katex .cd-label-right{display:inline-block;position:absolute;left:calc(50% + .3em);text-align:right}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:block;text-align:center;white-space:nowrap}.katex-display>.katex>.katex-html{display:block;position:relative}.katex-display>.katex>.katex-html>.tag{position:absolute;right:0}.katex-display.leqno>.katex>.katex-html>.tag{left:0;right:auto}.katex-display.fleqn>.katex{text-align:left;padding-left:2em}body{counter-reset:katexEqnNo mmlEqnNo}

/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.katex-error {
	color: var(--vscode-editorError-foreground);
}

</style>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        
        
        
    </head>
    <body class="vscode-body vscode-light">
        <link rel="stylesheet" href="./my-style.css">
<div class="capa">
<div class="title">
<h1 id="gráficos-em-lua">Gráficos em Lua</h1>
<h4 id="tiago-vargas-pereira-de-oliveira">Tiago Vargas Pereira de Oliveira</h4>
</div>
<p><img src="file:///d:\CODES\Lua\Graph\images\Capa.png" alt="Capa" title="capa"></p>
<hr>
</div>
<h1 id="sumário">Sumário</h1>
<ul>
<li>Sumário</li>
<li>Introdução</li>
<li>Teoria e Implementação
<ul>
<li>Funções</li>
<li>Plotagem</li>
<li>Centro de Massa</li>
<li>Translação e Zoom</li>
</ul>
</li>
<li>Aplicação
<ul>
<li>Arquivo <code>main.lua</code></li>
<li>Arquivo <code>Function.lua</code></li>
<li>Arquivo <code>Editor.lua</code></li>
<li>Arquivo <code>Colors.lua</code></li>
</ul>
</li>
<li>Referências</li>
</ul>
<h1 id="introdução">Introdução</h1>
<p>Esse documento discute um programa de computador de plotagem de gráficos, bem como um pouco da teoria utilizada para criá-lo.</p>
<p>O programa é capaz de:</p>
<ul>
<li>Plotar gráficos em coordenadas cartesianas e polares</li>
<li>Mostrar o centro de massa de uma curva plotada</li>
</ul>
<p>A linguagem escolhida foi Lua, usando LÖVE como framework e ambiente de execução.</p>
<p>A manipulação de funções é feitas pela linha de comando.</p>
<p>Boa parte do código fonte é legível (desde que saiba inglês). Trechos interessantes ou mais complicados serão discutidos.</p>
<h1 id="teoria-e-implementação">Teoria e Implementação</h1>
<h2 id="funções">Funções</h2>
<p>Funções são criadas e editadas pela linha de comando, mais precisamente, pelo console de debug. Para acessar o console, pressione <code>Ctrl</code> + <code>enter</code>. Para sair do console, digite <code>cont</code>.</p>
<p>Funções foram implementadas como um objeto (na verdade, o nome correto é <em>tabela</em>). Uma função possui:</p>
<ul>
<li>Um nome</li>
<li>Uma expressão</li>
<li>Um domínio</li>
<li>Um gráfico</li>
<li>Um modo, que diz se ela deve ser desenhada no plano cartesiano ou polar</li>
<li>Uma visibilidade</li>
<li>Uma cor</li>
</ul>
<p>Uma função possui outros atributos, mas não foram listados porque são usados apenas internamente.</p>
<p>É possível modificar qualquer um desses atributos pelo console, mas você só precisa se preocupar com o nome, a expressão e o modo da função. Se um domínio não for explicitamente definido, o domínio padrão será utilizado.</p>
<p>Funções são manipuladas internamente pelo <code>Editor</code>. A maior parte da interação com o <code>Editor</code> se dá pelo console.</p>
<p>Definidos nome, expressão e domínio de uma função, o programa se encarrega de plotar seu gráfico e marcar seu centro de massa no plano.</p>
<div class="exemplo">
<blockquote>
<p><strong>Exemplo</strong></p>
<p>Criando uma função</p>
<pre><code><code><div>lua_debug&gt; f = Editor.NewFunction(&quot;f&quot;, &quot;x^3&quot;)
lua_debug&gt; f.domain = Editor.NewDomain(-2, 2, 100)
lua_debug&gt; cont
</div></code></code></pre>
<p><img src="file:///d:\CODES\Lua\Graph\images\exemplo-0.png" alt=""></p>
</blockquote>
</div>
<h2 id="plotagem">Plotagem</h2>
<p>Dados um domínio e uma função <code>f</code>, a plotagem é feita marcando no plano todos os pares ordenados <code>(x, f(x))</code> – no modo cartesiano, ou <code>( f(x)*cos(x), f(x)*sin(x) )</code> no modo polar – com <code>x</code> assumindo todos os valores no domínio.</p>
<p><img src="file:///d:\CODES\Lua\Graph\images\graph-plotting.png" alt=""></p>
<p>Os pares ordenados são definidos assim, pois para LÖVE desenhar uma figura, devemos indicar sua posição – em pixels – na janela, o que podemos interpretar como as coordenadas do plano cartesiano da janela. Detalhes serão discutidos mais adiante.</p>
<p>O programa exige um conjunto discreto para o domínio. Podemos gerar um domínio passando ao programa os dois valores que o delimita, bem como o número de subdivisões.</p>
<p>No modo cartesiano, o programa marca no plano todos os pontos <code>(x, f(x))</code>, os conectando por segmentos de reta. Esta será a representação do gráfico de <code>f</code>. O análogo acontece no modo polar.</p>
<p>Como consequência, funções reais contínuas não podem ser exatamente plotadas, mas podemos gerar uma figura suficientemente fiel à esperada, desde que forneçamos um número suficientemente grande de subdivisões.</p>
<div class="exemplo">
<blockquote>
<p><strong>Exemplo</strong></p>
<p>Gráfico de <code>f(x) = x^2</code>, para <code>x</code> em <code>[-1, 2]</code> com <code>n = 3</code> subdivisões.</p>
<p><img src="file:///d:\CODES\Lua\Graph\images\exemplo-1-a-2.png" alt=""></p>
</blockquote>
<blockquote>
<p><strong>Exemplo</strong></p>
<p>A mesma função, para <code>x</code> em <code>[-1, 2]</code> com <code>n = 150</code> subdivisões.</p>
<p><img src="file:///d:\CODES\Lua\Graph\images\exemplo-1-b-2.png" alt=""></p>
</blockquote>
</div>
<h2 id="centro-de-massa">Centro de Massa</h2>
<p>Para calcular o centro de massa de uma curva, assumimos antes que a curva tem densidade linear uniforme.</p>
<p>Como um gráfico foi implementado como uma sequência de segmentos de reta, basta considerar que cada segmento tem uma massa, e calcular as contribuições de cada.</p>
<p><img src="file:///d:\CODES\Lua\Graph\images\length-of-curve.png" alt=""></p>
<p><img src="file:///d:\CODES\Lua\Graph\images\calculo-do-cm-1.png" alt=""></p>
<p><img src="file:///d:\CODES\Lua\Graph\images\calculo-do-cm-2.png" alt=""></p>
<!-- MOSTRAR IMAGEM EXPLICATIVA -->
<h2 id="translação-e-zoom">Translação e Zoom</h2>
<p>Caso não seja possível ver um gráfico por completo, podemos &quot;arrastar&quot; o plano para os lados, os diminuir o zoom.</p>
<p>As setas do teclado movimentam a origem. Como as figuras são desenhadas com base na origem do editor, o efeito é de o plano ser arrastado para os lados. Inicialmente, a origem se encontra no centro da janela.</p>
<p>As teclas de <code>+</code> e de <code>-</code> controlam o zoom, o aumentando ou o diminuindo, respectivamente. Isso é implementado multiplicando todos os pontos dos gráficos por uma constante <code>Scale</code> referente ao grau de ampliação. Por exemplo, quando <code>Scale</code> vale <code>1</code>, cada pixel na tela representa uma unidade no plano. Como as figuras seriam muito pequenas nessa escala, seu valor padrão é <code>50</code> (uma unidade dista 50 pixels). Imagine a ampliação como um transformação linear que apenas &quot;estica&quot; ou &quot;encolhe&quot; os vetores unitários <code>i</code> e <code>j</code>.</p>
<h4 id="interessante">Interessante</h4>
<p>Todas as figuras são originalmente posicionadas com base na origem da janela. Para contornar isso, foi criada uma outra origem, que inicialmente se encontra no centro da janela. Assim, para desenhar qualquer figura, apenas mudamos o referencial, i.e. somando as coordenadas da origem em relação à janela. A escala já trata de inverter a orientação do eixo <code>y</code>.</p>
<p><img src="file:///d:\CODES\Lua\Graph\images\plotting-transformations.png" alt=""></p>
<pre><code class="language-lua"><div><span class="hljs-comment">-- Na definição da multiplicação de um gráfico por um escalar</span>
<span class="hljs-keyword">for</span> i = <span class="hljs-number">1</span>, #graph <span class="hljs-keyword">do</span>
	new_graph[i] =
	{
		x = graph[i].x *  scalar,
		y = graph[i].y * -scalar
	}
<span class="hljs-keyword">end</span>
</div></code></pre>
<pre><code class="language-lua"><div><span class="hljs-comment">-- Mudando das coordenadas em relação à janela, para em</span>
<span class="hljs-comment">-- relação à nova origem</span>
transformed_graph = (f.graph * Editor.Scale) + Editor.Origin
</div></code></pre>
<h1 id="aplicação">Aplicação</h1>
<p>O código fonte é composto pelos seguintes arquivos:</p>
<ul>
<li>
<p><code>main.lua</code></p>
<ul>
<li>É o ponto de entrada do programa.</li>
</ul>
</li>
<li>
<p><code>Function.lua</code></p>
<ul>
<li>Descreve as funções criadas como objetos.</li>
</ul>
</li>
<li>
<p><code>Editor.lua</code></p>
<ul>
<li>Administra as funções e mostra informações na tela.</li>
</ul>
</li>
<li>
<p><code>Colors.lua</code></p>
<ul>
<li>Apenas descreve as cores que serão usadas no programa.</li>
</ul>
</li>
</ul>
<p>Por padrão, variáveis em Lua são globais. Para serem locais, devemos declará-las com <code>local</code>. Para podermos usar uma variável pelo console, ela deve ser global.</p>
<h2 id="arquivo-mainlua">Arquivo <code>main.lua</code></h2>
<p>Em Lua, <code>apelido = require(&quot;Modulo&quot;)</code> equivale à <code>import Modulo as apelido</code> em Python.</p>
<p>Foi criado uma tabela de valores-padrão, que será usada para inicializar o <code>Editor</code>.</p>
<p>A função <code>love.load</code> é chamada apenas uma vez, quando o programa inicia.</p>
<p>Em seguida, as funções <code>love.update</code> e <code>love.draw</code> são chamadas alternadamente – cerca de 60 vezes por segundo – até o programa ser fechado. Elas servem para atualizar o cenário e desenhá-lo em seguida. A cada ciclo, o programa vai computar todos os gráficos, centros de massa (<em>CoM</em>), administrar movimentos da origem e zoom; e desenhar as informações (<em>HUD</em>), eixos, gráficos e centros de massa.</p>
<p><code>love.keypressed(key)</code> é executada a qualquer momento sempre que uma tecla <code>key</code> é pressionada. Ali, apertar <code>0</code> restaura o zoom padrão, <code>Ctlr</code> + <code>M</code> alterna o modo e <code>Ctrl</code> + <code>enter</code> abre o console.</p>
<p>Repare como <code>Editor</code> e <code>Colors</code> sao globais. Isso nos permite funções da &quot;classe&quot; <code>Editor</code> e as cores de <code>Colors</code> pelo console.</p>
<div class="code-break">
<pre><code class="language-lua"><div>Editor   = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;Editor&quot;</span>)
Colors   = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;Colors&quot;</span>)

PI = <span class="hljs-built_in">math</span>.<span class="hljs-built_in">pi</span>

<span class="hljs-keyword">local</span> Defaults =
{
	Mode       = <span class="hljs-string">&quot;cartesian&quot;</span>,
	Color      = Colors.Black,
	Background = Colors.White,
	Scale      = <span class="hljs-number">50</span>,
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">love.load</span><span class="hljs-params">(args)</span></span>
	Editor.Initialize(Defaults)
<span class="hljs-keyword">end</span>
</div></code></pre>
</div>
<pre><code class="language-lua"><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">love.update</span><span class="hljs-params">(dt)</span></span>
	Editor.ComputeAllGraphs()
	Editor.ComputeAllCOMs()

	Editor.ManageOriginPanning()
	Editor.ManageZoom()
<span class="hljs-keyword">end</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">love.draw</span><span class="hljs-params">()</span></span>
	Editor.DrawHud()
	Editor.DrawAxes()

	Editor.PlotAllGraphs()
	Editor.PlotAllCOMs()
<span class="hljs-keyword">end</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">love.keypressed</span><span class="hljs-params">(key)</span></span>
	<span class="hljs-keyword">local</span> is_ctrl_down = love.keyboard.isDown(<span class="hljs-string">&quot;rctrl&quot;</span>, <span class="hljs-string">&quot;lctrl&quot;</span>)

	<span class="hljs-keyword">if</span> key == <span class="hljs-string">&quot;return&quot;</span> <span class="hljs-keyword">and</span> is_ctrl_down <span class="hljs-keyword">then</span>
		<span class="hljs-built_in">debug</span>.<span class="hljs-built_in">debug</span>()
	<span class="hljs-keyword">end</span>

	<span class="hljs-keyword">if</span> key == <span class="hljs-string">&quot;m&quot;</span> <span class="hljs-keyword">and</span> is_ctrl_down <span class="hljs-keyword">then</span>
		Editor.ChangeMode()
	<span class="hljs-keyword">end</span>

	<span class="hljs-keyword">if</span> key == <span class="hljs-string">&quot;kp0&quot;</span> <span class="hljs-keyword">or</span> key == <span class="hljs-string">&quot;0&quot;</span> <span class="hljs-keyword">then</span>
		Editor.Scale = Defaults.Scale
	<span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>
</div></code></pre>
<h2 id="arquivo-functionlua">Arquivo <code>Function.lua</code></h2>
<p>Funções matemáticas em Lua estão dentro da tabela global <code>math</code>. Para não precisar escrever <code>math.sin</code>, <code>math.tan</code> etc, a função <code>treat_expression</code> converte <code>sin</code> em <code>math.sin</code> etc, que será usado internamente. <code>pretty_exp</code> representa a expressão sem <code>math.</code>, <code>math_exp</code> representa a expressão completa, i.e. com <code>math.</code>.</p>
<p>A função <code>evaluate</code> computa o valor de uma expressão matemática a partir de uma <em>string</em>. Equivale a <code>eval</code> em Python.</p>
<p>Lua permite redefinir operadores para tabelas (similar a objetos em Python). Isso foi mostrado em <code>transformed_graph = (f.graph * Editor.Scale) + Editor.Origin</code> (foram redefinidos os operadores <code>+</code> e <code>*</code>). Isso é feito com metatabelas. A função <code>setmetatable</code> redefine esses novos operadores para uma tabela.</p>
<p>A função <code>computeCOM</code> expressa os somatórios descritos em &quot;Centro de Massa&quot;.</p>
<div class="code-break">
<pre><code class="language-lua"><div><span class="hljs-keyword">local</span> Function = {}

<span class="hljs-comment">-----------------------------------------------</span>
<span class="hljs-comment">--[[ Auxiliary functions                   ]]</span><span class="hljs-comment">--</span>
<span class="hljs-comment">-----------------------------------------------</span>

<span class="hljs-keyword">local</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">distance</span><span class="hljs-params">(P, Q)</span></span>
	<span class="hljs-keyword">local</span> dx = P.x - Q.x
	<span class="hljs-keyword">local</span> dy = P.y - Q.y

	<span class="hljs-keyword">return</span> <span class="hljs-built_in">math</span>.<span class="hljs-built_in">sqrt</span>( dx ^ <span class="hljs-number">2</span> + dy ^ <span class="hljs-number">2</span> )
<span class="hljs-keyword">end</span>

<span class="hljs-keyword">local</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">evaluate</span><span class="hljs-params">(expression)</span></span>
	<span class="hljs-keyword">return</span> <span class="hljs-built_in">load</span>(<span class="hljs-string">&quot;return &quot;</span> .. expression)()
<span class="hljs-keyword">end</span>

<span class="hljs-keyword">local</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">treat_expression</span><span class="hljs-params">(pretty_exp)</span></span>
	<span class="hljs-keyword">local</span> math_exp

	math_exp = pretty_exp:<span class="hljs-built_in">gsub</span>(<span class="hljs-string">&quot;sin&quot;</span>,  <span class="hljs-string">&quot;math.sin&quot;</span>)
	math_exp = math_exp:<span class="hljs-built_in">gsub</span>(<span class="hljs-string">&quot;cos&quot;</span>,  <span class="hljs-string">&quot;math.cos&quot;</span>)
	math_exp = math_exp:<span class="hljs-built_in">gsub</span>(<span class="hljs-string">&quot;tan&quot;</span>,  <span class="hljs-string">&quot;math.tan&quot;</span>)
	math_exp = math_exp:<span class="hljs-built_in">gsub</span>(<span class="hljs-string">&quot;sqrt&quot;</span>, <span class="hljs-string">&quot;math.sqrt&quot;</span>)
	math_exp = math_exp:<span class="hljs-built_in">gsub</span>(<span class="hljs-string">&quot;abs&quot;</span>,  <span class="hljs-string">&quot;math.abs&quot;</span>)
	math_exp = math_exp:<span class="hljs-built_in">gsub</span>(<span class="hljs-string">&quot;exp&quot;</span>,  <span class="hljs-string">&quot;math.exp&quot;</span>)
	math_exp = math_exp:<span class="hljs-built_in">gsub</span>(<span class="hljs-string">&quot;ln&quot;</span>,   <span class="hljs-string">&quot;math.log&quot;</span>)
	math_exp = math_exp:<span class="hljs-built_in">gsub</span>(<span class="hljs-string">&quot;log&quot;</span>,  <span class="hljs-string">&quot;math.log10&quot;</span>)
	math_exp = math_exp:<span class="hljs-built_in">gsub</span>(<span class="hljs-string">&quot;pow&quot;</span>,  <span class="hljs-string">&quot;math.pow&quot;</span>)
	math_exp = math_exp:<span class="hljs-built_in">gsub</span>(<span class="hljs-string">&quot;PI&quot;</span>,   <span class="hljs-string">&quot;math.pi&quot;</span>)

	<span class="hljs-keyword">return</span> math_exp
<span class="hljs-keyword">end</span>
</div></code></pre>
</div>
<div class="code-break">
<pre><code class="language-lua"><div><span class="hljs-keyword">local</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">is_number</span><span class="hljs-params">(n)</span></span>
	<span class="hljs-keyword">if</span> n ~= <span class="hljs-number">1</span>/<span class="hljs-number">0</span> <span class="hljs-keyword">and</span> n ~= <span class="hljs-number">-1</span>/<span class="hljs-number">0</span> <span class="hljs-keyword">and</span> n == n <span class="hljs-keyword">and</span> n ~= <span class="hljs-literal">nil</span> <span class="hljs-keyword">then</span>
		<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
	<span class="hljs-keyword">end</span>

	<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
<span class="hljs-keyword">end</span>

<span class="hljs-keyword">local</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">apply_to_self</span><span class="hljs-params">(self, value)</span></span>
	<span class="hljs-keyword">local</span> <span class="hljs-built_in">exp</span> = <span class="hljs-built_in">self</span>.mathExp:<span class="hljs-built_in">gsub</span>(<span class="hljs-string">&quot;x&quot;</span>, value)
	<span class="hljs-keyword">return</span> evaluate(<span class="hljs-built_in">exp</span>)
<span class="hljs-keyword">end</span>

<span class="hljs-keyword">local</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">translate_graph</span><span class="hljs-params">(graph, vector)</span></span>
	<span class="hljs-keyword">local</span> new_graph = {}

	<span class="hljs-keyword">for</span> i = <span class="hljs-number">1</span>, #graph <span class="hljs-keyword">do</span>
		new_graph[i] =
		{
			x = graph[i].x + vector.x,
			y = graph[i].y + vector.y
		}
	<span class="hljs-keyword">end</span>
	<span class="hljs-keyword">return</span> new_graph
<span class="hljs-keyword">end</span>

<span class="hljs-keyword">local</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scale_graph</span><span class="hljs-params">(graph, factor)</span></span>
	<span class="hljs-keyword">local</span> new_graph = {}
	<span class="hljs-built_in">setmetatable</span>(new_graph, { <span class="hljs-built_in">__add</span> = translate_graph })

	<span class="hljs-keyword">for</span> i = <span class="hljs-number">1</span>, #graph <span class="hljs-keyword">do</span>
		new_graph[i] =
		{
			x = graph[i].x *  factor,
			y = graph[i].y * -factor
		}
	<span class="hljs-keyword">end</span>
	<span class="hljs-keyword">return</span> new_graph
<span class="hljs-keyword">end</span>

</div></code></pre>
</div>
<div class="code-break">
<pre><code class="language-lua"><div><span class="hljs-comment">-----------------------------------------------</span>
<span class="hljs-comment">--[[ Class Methods                         ]]</span><span class="hljs-comment">--</span>
<span class="hljs-comment">-----------------------------------------------</span>

Function.New = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(pretty_exp, mode)</span></span>
	<span class="hljs-keyword">local</span> o  = {}
	<span class="hljs-built_in">setmetatable</span>(o, { <span class="hljs-built_in">__index</span> = Function,
	                  <span class="hljs-built_in">__call</span> = apply_to_self })

	o.prettyExp = pretty_exp  <span class="hljs-keyword">or</span> <span class="hljs-string">&quot;x&quot;</span>
	o.mode      = mode <span class="hljs-keyword">or</span> <span class="hljs-string">&quot;cartesian&quot;</span>
	o.mathExp   = treat_expression(pretty_exp)

	<span class="hljs-keyword">return</span> o
<span class="hljs-keyword">end</span>


<span class="hljs-comment">-----------------------------------------------</span>
<span class="hljs-comment">--[[ Object Methods                        ]]</span><span class="hljs-comment">--</span>
<span class="hljs-comment">-----------------------------------------------</span>

Function.computeCartesianGraph = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(self)</span></span>
	<span class="hljs-keyword">for</span> i, xi <span class="hljs-keyword">in</span> <span class="hljs-built_in">pairs</span>(<span class="hljs-built_in">self</span>.domain) <span class="hljs-keyword">do</span>
		<span class="hljs-keyword">local</span> P = { x = xi, y = <span class="hljs-built_in">self</span>(xi) }
		<span class="hljs-built_in">self</span>.graph[i] = P
	<span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

Function.computePolarGraph = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(self)</span></span>
	<span class="hljs-keyword">for</span> _, theta <span class="hljs-keyword">in</span> <span class="hljs-built_in">pairs</span>(<span class="hljs-built_in">self</span>.domain) <span class="hljs-keyword">do</span>
		<span class="hljs-keyword">local</span> ro = <span class="hljs-built_in">self</span>(theta)
		<span class="hljs-keyword">local</span> P  = { x = ro*<span class="hljs-built_in">math</span>.<span class="hljs-built_in">cos</span>(theta),
		             y = ro*<span class="hljs-built_in">math</span>.<span class="hljs-built_in">sin</span>(theta) }
		<span class="hljs-built_in">table</span>.<span class="hljs-built_in">insert</span>(<span class="hljs-built_in">self</span>.graph, P)
	<span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

Function.computeGraph = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(self)</span></span>
	<span class="hljs-built_in">self</span>.graph = {}
	<span class="hljs-built_in">setmetatable</span>(<span class="hljs-built_in">self</span>.graph, { <span class="hljs-built_in">__mul</span> = scale_graph })

</div></code></pre>
</div>
<pre><code class="language-lua"><div>	<span class="hljs-keyword">if</span> <span class="hljs-built_in">self</span>.mode == <span class="hljs-string">&quot;cartesian&quot;</span> <span class="hljs-keyword">then</span>
		<span class="hljs-built_in">self</span>:computeCartesianGraph()
	<span class="hljs-keyword">elseif</span> <span class="hljs-built_in">self</span>.mode == <span class="hljs-string">&quot;polar&quot;</span> <span class="hljs-keyword">then</span>
		<span class="hljs-built_in">self</span>:computePolarGraph()
	<span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

Function.computeCOM = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(self)</span></span>
	<span class="hljs-keyword">local</span> Sxdl, Sydl, L = <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>
	<span class="hljs-keyword">local</span> graph = <span class="hljs-built_in">self</span>.graph
	<span class="hljs-keyword">local</span> n     = #graph - <span class="hljs-number">1</span>

	<span class="hljs-keyword">for</span> i = <span class="hljs-number">1</span>, n <span class="hljs-keyword">do</span>
		<span class="hljs-keyword">local</span> P = graph[i]
		<span class="hljs-keyword">local</span> Q = graph[i + <span class="hljs-number">1</span>]
		<span class="hljs-keyword">if</span> is_number(P.y) <span class="hljs-keyword">and</span> is_number(Q.y) <span class="hljs-keyword">then</span>
			<span class="hljs-keyword">local</span> dLi = distance(P, Q)
			<span class="hljs-keyword">local</span> xmi = (P.x + Q.x) / <span class="hljs-number">2</span>
			<span class="hljs-keyword">local</span> ymi = (P.y + Q.y) / <span class="hljs-number">2</span>

			L    = L + dLi
			Sxdl = Sxdl + (xmi * dLi)
			Sydl = Sydl + (ymi * dLi)
		<span class="hljs-keyword">end</span>
	<span class="hljs-keyword">end</span>

	<span class="hljs-built_in">self</span>.com = { x = Sxdl/L, y = Sydl/L }
<span class="hljs-keyword">end</span>

<span class="hljs-keyword">return</span> Function
</div></code></pre>
<h2 id="arquivo-editorlua">Arquivo <code>Editor.lua</code></h2>
<p><code>FunctionColors</code> define quais as cores que as funções podem assumir (para não correr o risco de terem a cor branca ou difíceis de ver). <code>GetextColor</code> cuida das funções terem cores diferentes.</p>
<p><code>unpack_graph</code> foi definida apenas para podermos usar <code>love.graphics.line</code>, em <code>Plot</code>.</p>
<div class="code-break">
<pre><code class="language-lua"><div><span class="hljs-keyword">local</span> Function = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;Function&quot;</span>)
<span class="hljs-keyword">local</span> Colors   = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;Colors&quot;</span>)
</div></code></pre>
</div>
<div class="code-break">
<pre><code class="language-lua"><div><span class="hljs-keyword">local</span> Editor = {}

FunctionColors =
{
	Colors.Red,
	Colors.Green,
	Colors.Yellow,
	Colors.Blue,
	Colors.Purple,
	Colors.Cyan,
	Colors.Grey,
	Colors.BrightRed,
	Colors.BrightGreen,
	Colors.BrightBlue,
	Colors.BrightPurple,
}
<span class="hljs-keyword">local</span> ColorIndex = <span class="hljs-number">0</span>

<span class="hljs-keyword">local</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">GetNextColor</span><span class="hljs-params">()</span></span>
	ColorIndex  = ColorIndex + <span class="hljs-number">1</span>

	<span class="hljs-keyword">if</span> ColorIndex &gt; #FunctionColors <span class="hljs-keyword">then</span>
		ColorIndex = <span class="hljs-number">1</span>
	<span class="hljs-keyword">end</span>
	<span class="hljs-keyword">return</span> FunctionColors[ColorIndex]
<span class="hljs-keyword">end</span>

<span class="hljs-keyword">local</span> Functions = {}
<span class="hljs-keyword">local</span> Width, Height


<span class="hljs-comment">-----------------------------------------------</span>
<span class="hljs-comment">--[[ Auxiliary Functions                   ]]</span><span class="hljs-comment">--</span>
<span class="hljs-comment">-----------------------------------------------</span>

<span class="hljs-comment">--- Returns a table of points `(x, y)` as a sequence</span>
<span class="hljs-comment">--- `{ x1, y1, x2, y2, ... }`</span>
<span class="hljs-comment">---</span>
<span class="hljs-comment">---@param graph table # Table of ordered pairs</span>
<span class="hljs-comment">---</span>
<span class="hljs-keyword">local</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unpack_graph</span><span class="hljs-params">(graph)</span></span>
	<span class="hljs-keyword">local</span> coordinates_sequence = {}

</div></code></pre>
</div>
<div class="code-break">
<pre><code class="language-lua"><div>	<span class="hljs-keyword">for</span> i = <span class="hljs-number">1</span>, #graph <span class="hljs-keyword">do</span>
		<span class="hljs-keyword">local</span> ordered_pair = graph[i]
		<span class="hljs-built_in">table</span>.<span class="hljs-built_in">insert</span>(coordinates_sequence, ordered_pair.x)
		<span class="hljs-built_in">table</span>.<span class="hljs-built_in">insert</span>(coordinates_sequence, ordered_pair.y)
	<span class="hljs-keyword">end</span>

	<span class="hljs-keyword">return</span> coordinates_sequence
<span class="hljs-keyword">end</span>


<span class="hljs-comment">-----------------------------------------------</span>
<span class="hljs-comment">--[[ Class Methods                         ]]</span><span class="hljs-comment">--</span>
<span class="hljs-comment">-----------------------------------------------</span>

Editor.Initialize = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(defaults)</span></span>
	love.graphics.setColor(defaults.Color)
	love.graphics.setBackgroundColor(defaults.Background)
	Width, Height = love.graphics.getDimensions()

	Editor.Color      = defaults.Color
	Editor.Background = defaults.Background
	Editor.Mode       = defaults.Mode
	Editor.Scale      = defaults.Scale
	Editor.Origin     = { x = Width/<span class="hljs-number">2</span>, y = Height/<span class="hljs-number">2</span> }
	Editor.Domain     = Editor.NewDomain(<span class="hljs-number">-50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">2000</span>)
<span class="hljs-keyword">end</span>

Editor.NewDomain = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(a, b, subdivisions)</span></span>
	<span class="hljs-keyword">local</span> domain = {}
	<span class="hljs-keyword">local</span> dx = (b - a) / subdivisions

	<span class="hljs-keyword">for</span> x = a, b, dx <span class="hljs-keyword">do</span>
		<span class="hljs-built_in">table</span>.<span class="hljs-built_in">insert</span>(domain, x)
	<span class="hljs-keyword">end</span>

	<span class="hljs-keyword">return</span> domain
<span class="hljs-keyword">end</span>

<span class="hljs-comment">--- Creates a new instance of `Function`</span>
<span class="hljs-comment">---</span>
<span class="hljs-comment">---@param pretty_exp string # Expression without `&quot;math.&quot;`</span>
<span class="hljs-comment">---@param mode?      string # `&quot;cartesian&quot;` | `&quot;polar&quot;`</span>
<span class="hljs-comment">---</span>
Editor.NewFunction = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(name, pretty_exp, mode)</span></span>
</div></code></pre>
</div>
<div class="code-break">
<pre><code class="language-lua"><div>	<span class="hljs-keyword">local</span> o = Function.New(pretty_exp, mode)
	Functions[name] = o

	o.name      = name
	o.isVisible = <span class="hljs-literal">true</span>
	o.domain    = Editor.Domain
	o.color     = GetNextColor()

	<span class="hljs-keyword">return</span> o
<span class="hljs-keyword">end</span>

Editor.RemoveFunction = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(name)</span></span>
	Functions[name] = <span class="hljs-literal">nil</span>
<span class="hljs-keyword">end</span>

Editor.ComputeAllGraphs = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span></span>
	<span class="hljs-keyword">for</span> _, f <span class="hljs-keyword">in</span> <span class="hljs-built_in">pairs</span>(Functions) <span class="hljs-keyword">do</span>
		<span class="hljs-keyword">if</span> f.mode == Editor.Mode <span class="hljs-keyword">then</span>
			f:computeGraph()
		<span class="hljs-keyword">end</span>
	<span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

Editor.ComputeAllCOMs = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span></span>
	<span class="hljs-keyword">for</span> _, f <span class="hljs-keyword">in</span> <span class="hljs-built_in">pairs</span>(Functions) <span class="hljs-keyword">do</span>
		<span class="hljs-keyword">if</span> f.mode == Editor.Mode <span class="hljs-keyword">then</span>
			f:computeCOM()
		<span class="hljs-keyword">end</span>
	<span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-keyword">local</span> Font = love.graphics.getFont()
<span class="hljs-keyword">local</span> Margin = <span class="hljs-number">5</span>

<span class="hljs-keyword">local</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">WriteNameInList</span><span class="hljs-params">(f, i)</span></span>
	<span class="hljs-keyword">local</span> text = <span class="hljs-built_in">string</span>.<span class="hljs-built_in">format</span>(<span class="hljs-string">&quot;%s(x) = %s&quot;</span>,
	                           f.name, f.prettyExp)
	<span class="hljs-keyword">local</span> name_y_pos = (Font:getHeight() + Margin) * i
	love.graphics.<span class="hljs-built_in">print</span>(text, Margin, Margin + name_y_pos)
<span class="hljs-keyword">end</span>

<span class="hljs-keyword">local</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ListFunctionNames</span><span class="hljs-params">()</span></span>
	<span class="hljs-keyword">local</span> index = <span class="hljs-number">0</span>
	<span class="hljs-keyword">for</span> _, f <span class="hljs-keyword">in</span> <span class="hljs-built_in">pairs</span>(Functions) <span class="hljs-keyword">do</span>
</div></code></pre>
</div>
<div class="code-break">
<pre><code class="language-lua"><div>		<span class="hljs-keyword">if</span> f.isVisible <span class="hljs-keyword">then</span>
			love.graphics.setColor(f.color)
		<span class="hljs-keyword">else</span>
			love.graphics.setColor(Colors.BrightGrey)
		<span class="hljs-keyword">end</span>

		<span class="hljs-keyword">if</span> f.mode == Editor.Mode <span class="hljs-keyword">then</span>
			index = index + <span class="hljs-number">1</span>
			WriteNameInList(f, index)
		<span class="hljs-keyword">end</span>
	<span class="hljs-keyword">end</span>

	love.graphics.setColor(Editor.Color)
<span class="hljs-keyword">end</span>

Editor.DrawHud = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span></span>
	love.graphics.setColor(Editor.Color)

	love.graphics.<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-- Functions --&quot;</span>, Margin, Margin)
	ListFunctionNames()

	<span class="hljs-keyword">local</span> bottom = Height - Margin - Font:getHeight()
	<span class="hljs-keyword">local</span> right  = Width  - Margin - <span class="hljs-number">100</span>
	love.graphics.<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Scale: &quot;</span> .. Editor.Scale,
	                                       Margin, bottom)
	love.graphics.<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Mode: &quot;</span>  .. Editor.Mode,
	                                       right,  bottom)
<span class="hljs-keyword">end</span>

Editor.DrawAxes = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span></span>
	<span class="hljs-keyword">local</span> O = Editor.Origin
	love.graphics.line(<span class="hljs-number">0</span>, O.y,  Width,  O.y) <span class="hljs-comment">-- Ox</span>
	love.graphics.line(O.x, <span class="hljs-number">0</span>,  O.x, Height) <span class="hljs-comment">-- Oy</span>
<span class="hljs-keyword">end</span>

<span class="hljs-keyword">local</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Plot</span><span class="hljs-params">(f)</span></span>
	love.graphics.setColor(f.color)

	<span class="hljs-keyword">local</span> transformed_graph = (f.graph * Editor.Scale)
	                                        + Editor.Origin
	love.graphics.line(unpack_graph(transformed_graph))
<span class="hljs-keyword">end</span>

</div></code></pre>
</div>
<div class="code-break">
<pre><code class="language-lua"><div>Editor.PlotAllGraphs = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span></span>
	<span class="hljs-keyword">for</span> _, f <span class="hljs-keyword">in</span> <span class="hljs-built_in">pairs</span>(Functions) <span class="hljs-keyword">do</span>
		<span class="hljs-keyword">if</span> f.mode == Editor.Mode <span class="hljs-keyword">and</span> f.isVisible <span class="hljs-keyword">then</span>
			Plot(f)
		<span class="hljs-keyword">end</span>
	<span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-keyword">local</span> point_radius = <span class="hljs-number">4</span>

<span class="hljs-keyword">local</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">PlotCOM</span><span class="hljs-params">(f)</span></span>
	love.graphics.setColor(f.color)

	<span class="hljs-keyword">local</span> com_x_pos = (f.com.x *  Editor.Scale)
	                                    + Editor.Origin.x
	<span class="hljs-keyword">local</span> com_y_pos = (f.com.y * -Editor.Scale)
	                                    + Editor.Origin.y
	love.graphics.circle(<span class="hljs-string">&quot;fill&quot;</span>, com_x_pos, com_y_pos,
	                                        point_radius)

	<span class="hljs-keyword">local</span> text_x_pos = com_x_pos + Margin
	<span class="hljs-keyword">local</span> text_y_pos = com_y_pos - Margin - Font:getHeight()
	<span class="hljs-keyword">local</span> text = <span class="hljs-built_in">string</span>.<span class="hljs-built_in">format</span>(<span class="hljs-string">&quot;CoM (%.2f, %.2f)&quot;</span>,
	                                 f.com.x, f.com.y)
	love.graphics.<span class="hljs-built_in">print</span>(text, text_x_pos, text_y_pos)
<span class="hljs-keyword">end</span>

Editor.PlotAllCOMs = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span></span>
	<span class="hljs-keyword">for</span> _, f <span class="hljs-keyword">in</span> <span class="hljs-built_in">pairs</span>(Functions) <span class="hljs-keyword">do</span>
		<span class="hljs-keyword">if</span> f.mode == Editor.Mode <span class="hljs-keyword">and</span> f.isVisible <span class="hljs-keyword">then</span>
			PlotCOM(f)
		<span class="hljs-keyword">end</span>
	<span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-keyword">local</span> key = love.keyboard

Editor.ManageOriginPanning = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span></span>
	<span class="hljs-keyword">local</span> delta = <span class="hljs-number">4</span>

	<span class="hljs-keyword">if</span>     key.isDown(<span class="hljs-string">&quot;up&quot;</span>)   <span class="hljs-keyword">then</span>
		Editor.Origin.y = Editor.Origin.y + delta
	<span class="hljs-keyword">elseif</span> key.isDown(<span class="hljs-string">&quot;down&quot;</span>) <span class="hljs-keyword">then</span>
		Editor.Origin.y = Editor.Origin.y - delta
</div></code></pre>
</div>
<div class="code-break">
<pre><code class="language-lua"><div>	<span class="hljs-keyword">end</span>
	<span class="hljs-keyword">if</span>     key.isDown(<span class="hljs-string">&quot;left&quot;</span>)  <span class="hljs-keyword">then</span>
		Editor.Origin.x = Editor.Origin.x + delta
	<span class="hljs-keyword">elseif</span> key.isDown(<span class="hljs-string">&quot;right&quot;</span>) <span class="hljs-keyword">then</span>
		Editor.Origin.x = Editor.Origin.x - delta
	<span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

Editor.ManageZoom = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span></span>
	<span class="hljs-keyword">local</span> delta = <span class="hljs-number">2</span>

	<span class="hljs-keyword">local</span> zoom_in_pressed  = key.isDown(<span class="hljs-string">&quot;=&quot;</span>, <span class="hljs-string">&quot;kp+&quot;</span>)
	<span class="hljs-keyword">local</span> zoom_out_pressed = key.isDown(<span class="hljs-string">&quot;-&quot;</span>, <span class="hljs-string">&quot;kp-&quot;</span>)

	<span class="hljs-keyword">if</span>     zoom_in_pressed  <span class="hljs-keyword">then</span>
		Editor.Scale = Editor.Scale + delta
	<span class="hljs-keyword">elseif</span> zoom_out_pressed <span class="hljs-keyword">then</span>
		Editor.Scale = Editor.Scale - delta
	<span class="hljs-keyword">end</span>

	<span class="hljs-keyword">if</span> Editor.Scale &lt; <span class="hljs-number">1</span> <span class="hljs-keyword">then</span>
		Editor.Scale = <span class="hljs-number">1</span>
	<span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

Editor.ChangeMode = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span></span>
	<span class="hljs-keyword">if</span>     Editor.Mode == <span class="hljs-string">&quot;polar&quot;</span> <span class="hljs-keyword">then</span>
		Editor.Mode = <span class="hljs-string">&quot;cartesian&quot;</span>
	<span class="hljs-keyword">elseif</span> Editor.Mode == <span class="hljs-string">&quot;cartesian&quot;</span> <span class="hljs-keyword">then</span>
		Editor.Mode = <span class="hljs-string">&quot;polar&quot;</span>
	<span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-keyword">return</span> Editor
</div></code></pre>
<h2 id="arquivo-colorslua">Arquivo <code>Colors.lua</code></h2>
<pre><code class="language-lua"><div><span class="hljs-keyword">local</span> Colors = {}

Colors.White      = { <span class="hljs-number">242</span>, <span class="hljs-number">242</span>, <span class="hljs-number">242</span> }
Colors.Black      = {  <span class="hljs-number">12</span>,  <span class="hljs-number">12</span>,  <span class="hljs-number">12</span> }
Colors.Red        = { <span class="hljs-number">197</span>,  <span class="hljs-number">15</span>,  <span class="hljs-number">31</span> }
</div></code></pre>
</div>
<div class="code-break">
<pre><code class="language-lua"><div>Colors.Green      = {  <span class="hljs-number">19</span>, <span class="hljs-number">161</span>,  <span class="hljs-number">14</span> }
Colors.Yellow     = { <span class="hljs-number">193</span>, <span class="hljs-number">156</span>,   <span class="hljs-number">0</span> }
Colors.Blue       = {   <span class="hljs-number">0</span>,  <span class="hljs-number">55</span>, <span class="hljs-number">218</span> }
Colors.Purple     = { <span class="hljs-number">136</span>,  <span class="hljs-number">23</span>,  <span class="hljs-number">52</span> }
Colors.Cyan       = {  <span class="hljs-number">58</span>, <span class="hljs-number">150</span>, <span class="hljs-number">221</span> }
Colors.Grey       = { <span class="hljs-number">118</span>, <span class="hljs-number">118</span>, <span class="hljs-number">118</span> }

Colors.BrightGrey   = { <span class="hljs-number">204</span>, <span class="hljs-number">204</span>, <span class="hljs-number">204</span> }
Colors.BrightRed    = { <span class="hljs-number">231</span>,  <span class="hljs-number">72</span>,  <span class="hljs-number">86</span> }
Colors.BrightGreen  = {  <span class="hljs-number">22</span>, <span class="hljs-number">198</span>,  <span class="hljs-number">12</span> }
Colors.BrightBlue   = {  <span class="hljs-number">59</span>, <span class="hljs-number">120</span>, <span class="hljs-number">255</span> }
Colors.BrightPurple = { <span class="hljs-number">180</span>,   <span class="hljs-number">0</span>, <span class="hljs-number">158</span> }

<span class="hljs-comment">-- Remember that `LOVE` uses colors from 0..1 instead</span>
<span class="hljs-comment">-- of 0..255</span>
<span class="hljs-keyword">for</span> _, value <span class="hljs-keyword">in</span> <span class="hljs-built_in">pairs</span>(Colors) <span class="hljs-keyword">do</span>
	<span class="hljs-keyword">for</span> i = <span class="hljs-number">1</span>, <span class="hljs-number">3</span> <span class="hljs-keyword">do</span>
		value[i] = value[i] / <span class="hljs-number">256</span>
	<span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-keyword">return</span> Colors
</div></code></pre>
<h1 id="referências">Referências</h1>
<p>LÖVE</p>
<ul>
<li><a href="URL" title="https://love2d.org/">Página principal</a></li>
</ul>
<!-- - [Documentação](URL "") -->
<p>Lua</p>
<ul>
<li><a href="URL" title="https://www.lua.org/">Página principal</a></li>
<li><a href="URL" title="https://www.lua.org/cgi-bin/demo">Editor online</a></li>
<li><a href="URL" title="https://www.lua.org/manual/5.1/">Manual de referência</a></li>
</ul>

    </body>
    </html>